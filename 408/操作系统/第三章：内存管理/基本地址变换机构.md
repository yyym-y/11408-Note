# 基本地址变换机构

* 逻辑地址到物理地址的转换过程
    * 逻辑地址转换为物理地址需要四个步骤：**确定页号、确定页内偏移量、查找页面在内存中的位置、根据页面位置和偏移量计算物理地址**
    * 页表寄存器存储页表的起始地址和长度，这些信息在进程未上处理机运行时放在进程控制块中
    * 基本流程
        * 计算页号和页内偏移量：通过逻辑地址计算出页号和页内偏移量
        * 检查页号合法性：确保页号在进程的页表范围内(注意:因为页表编号是从 $$0$$ 开始的,所以如果计算的页号刚好等于页表的长度也是非法的)
        * 查找页表项：根据页号在页表中查找对应的页表项
        * 计算物理地址：根据页表项中的内存块号和页内偏移量计算物理地址
* 页表项大小的选择
    * 页表项长度选择需考虑内存块号的表示范围和页面大小
    * 为了方便页表的查询，实际应用中常使每个页面恰好装下整数个页表项(避免留下内部碎片导致计算物理页号的过程需要额外的操作)
    * 页式管理的地址是一维的(只需要告诉操作系统一个地址)
    * 进行一次地址翻译需要两次访存