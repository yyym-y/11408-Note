# 操作系统的运行机制

* 操作系统的运行机制
	* 操作系统中的程序类型
		* **内核程序**是操作系统最核心的部分，负责系统资源管理
		* **应用程序**运行在操作系统之上，如QQ、微信等
	* 特权指令与非特权指令
		* **特权指令**只能由操作系统内核使用，如内存清零指令
		* **非特权指令**由应用程序使用，如加减乘除运算指令
	* CPU的状态与切换
		* **内核态（管态、核心态）**执行内核程序，可以执行特权指令 (内核态转换为用户态通过一条修改PSW的特权指令)
			* 输入输出指令必须在内核态执行
			* BIOS 也是在内核态运行的
		* **用户态（目态）**执行应用程序，只能执行非特权指令（用户态转内核态通过中断）
		* CPU状态通过**程序状态寄存器**（PSW）中的二进制位进行标记
		* 应用程序在用户态下运行，如果尝试执行特权指令，会引起中断信号, 中断信号触发后，CPU切换回内核态，执行内核程序处理中断
	* 大多数操作系统内核包含四个方面
		* 时钟管理， 中断机制， 原语，系统控制数据结构及处理

