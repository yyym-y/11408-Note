# 操作系统的体系结构

* 操作系统的体系结构
	* 内核的基本功能
		* 时钟管理， 中断处理， 原语
			* 原语是一种特殊的程序，具有原子性。也就是说，这段程序的运行必须一气呵成，不可被“中断”
	* **大内核**和**微内核**是两种常见的体系结构
		* ![[Pasted image 20250522173916.png]]
		* 大内核性能高，因为CPU状态转换少
		* 微内核结构清晰，易于维护，但性能较低，因为CPU状态转换频繁
	* **分层结构操作系统**
		* 将内核分为多层，类似于洋葱，每层只能调用相邻的低层接口
		* 优点包括便于调试和验证、易于扩充和维护、层间调用接口清晰固定
		* 缺点包括难以合理定义各层之间的边界、系统调用执行时间长、效率低
	* **模块化操作系统结构**
		* 内核 = 主模块 + 可加载内核模块
		* 系统将内核划分为多个模块，各模块之间相互协作
		* 优点包括模块之间逻辑清晰、易于维护、支持动态加载新的内核模块、模块之间直接调用效率高
		* 缺点包括模块接口定义难、模块之间相互依赖、难以调试和验证
	* **外核操作系统结构**
		* 由内核和外核两部分组成，内核负责进程调度、通信等，外核负责分配未经抽象的硬件资源，提升随机访问性能
		* 优点：用户进程可以更灵活的使用硬件资源，减少了虚拟硬件资源的"映射层"，提升效率
		* 缺点：降低了系统的一致性（两个程序使用同一个地址，但一个需要映射一个不需要），是系统更加复杂